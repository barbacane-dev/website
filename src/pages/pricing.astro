---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Services & Pricing - Barbacane" description="Professional services, support, and training for Barbacane - the spec-driven API gateway.">
  <!-- Hero -->
  <section class="section">
    <div class="container-custom">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl sm:text-5xl font-extrabold mb-6">
          Professional <span class="text-gradient">Services</span>
        </h1>
        <p class="text-xl text-foreground-muted max-w-2xl mx-auto">
          Barbacane is 100% open source. We sustain the project through professional
          services that help you succeed.
        </p>
      </div>
    </div>
  </section>

  <!-- Services Grid -->
  <section class="section pt-0">
    <div class="container-custom">
      <div class="grid lg:grid-cols-3 gap-8">
        <!-- Consulting -->
        <div id="consulting" class="card flex flex-col h-full border-primary/20">
          <div class="flex-1">
            <div class="w-14 h-14 rounded-2xl bg-primary-subtle flex items-center justify-center mb-6">
              <svg class="w-7 h-7 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
              </svg>
            </div>
            <h2 class="text-2xl font-bold mb-4 text-primary">Consulting</h2>
            <p class="text-foreground-muted mb-6">
              Expert guidance for architecture, migration, and custom solutions.
            </p>
            <ul class="space-y-4 mb-8">
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-primary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Architecture reviews</strong>
                  <p class="text-sm text-foreground-muted">Deep-dive into your API landscape and gateway requirements</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-primary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Migration planning</strong>
                  <p class="text-sm text-foreground-muted">Structured path from legacy gateways to Barbacane</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-primary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Custom plugin development</strong>
                  <p class="text-sm text-foreground-muted">WASM plugins tailored to your specific needs</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-primary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Performance optimization</strong>
                  <p class="text-sm text-foreground-muted">Tuning for your traffic patterns and SLOs</p>
                </div>
              </li>
            </ul>
          </div>
          <a href="https://cal.com/nicolas-dreno-xijjpz/15min" target="_blank" rel="noopener" class="btn-primary w-full justify-center">
            Book intro call
          </a>
        </div>

        <!-- Pro Support -->
        <div id="support" class="card flex flex-col h-full border-secondary/20 relative">
          <div class="absolute -top-3 left-1/2 -translate-x-1/2">
            <span class="text-sm font-semibold px-4 py-1 rounded-full" style="background-color: var(--color-secondary); color: var(--color-btn-text);">Most Popular</span>
          </div>
          <div class="flex-1">
            <div class="w-14 h-14 rounded-2xl bg-secondary-subtle flex items-center justify-center mb-6">
              <svg class="w-7 h-7 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path>
              </svg>
            </div>
            <h2 class="text-2xl font-bold mb-4 text-secondary">Pro Support</h2>
            <p class="text-foreground-muted mb-6">
              SLA-backed support with direct access to maintainers.
            </p>
            <ul class="space-y-4 mb-8">
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-secondary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Guaranteed SLAs</strong>
                  <p class="text-sm text-foreground-muted">Response time guarantees for critical issues</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-secondary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Priority issue resolution</strong>
                  <p class="text-sm text-foreground-muted">Your bugs and features get prioritized attention</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-secondary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Direct maintainer access</strong>
                  <p class="text-sm text-foreground-muted">Private Slack channel with the core team</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-secondary mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Security advisories</strong>
                  <p class="text-sm text-foreground-muted">Early notification of security issues</p>
                </div>
              </li>
            </ul>
          </div>
          <a href="https://cal.com/nicolas-dreno-xijjpz/15min" target="_blank" rel="noopener" class="btn-primary shadow-glow-secondary w-full justify-center" style="background-color: var(--color-secondary);">
            Book intro call
          </a>
        </div>

        <!-- Training -->
        <div id="training" class="card flex flex-col h-full border-accent/20">
          <div class="flex-1">
            <div class="w-14 h-14 rounded-2xl bg-accent-subtle flex items-center justify-center mb-6">
              <svg class="w-7 h-7 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
              </svg>
            </div>
            <h2 class="text-2xl font-bold mb-4 text-accent">Training</h2>
            <p class="text-foreground-muted mb-6">
              Hands-on workshops to level up your team.
            </p>
            <ul class="space-y-4 mb-8">
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-accent mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Spec-driven API design</strong>
                  <p class="text-sm text-foreground-muted">OpenAPI & AsyncAPI best practices with Barbacane extensions</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-accent mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">WASM plugin development</strong>
                  <p class="text-sm text-foreground-muted">Build custom plugins in Rust, Go, or AssemblyScript</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-accent mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Operations & monitoring</strong>
                  <p class="text-sm text-foreground-muted">Deployment, scaling, and observability deep-dive</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-accent mt-0.5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <div>
                  <strong class="text-foreground">Custom curriculum</strong>
                  <p class="text-sm text-foreground-muted">Tailored content for your team's needs</p>
                </div>
              </li>
            </ul>
          </div>
          <a href="https://cal.com/nicolas-dreno-xijjpz/15min" target="_blank" rel="noopener" class="btn-primary shadow-glow-accent w-full justify-center" style="background-color: var(--color-accent);">
            Book intro call
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section bg-background-light">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">
          Frequently asked questions
        </h2>

        <div class="space-y-6">
          <div class="card">
            <h3 class="text-lg font-semibold mb-2">Is Barbacane really free?</h3>
            <p class="text-foreground-muted">
              Yes. Barbacane is 100% open source under the Apache 2.0 license. There's no
              "enterprise edition" with gated features. Every capability is available to everyone,
              forever. Our business model is based on professional services, not feature restrictions.
            </p>
          </div>

          <div class="card">
            <h3 class="text-lg font-semibold mb-2">What if I don't need paid services?</h3>
            <p class="text-foreground-muted">
              That's perfectly fine! Use Barbacane freely, contribute to the project if you can,
              and reach out when you need help. Our documentation, GitHub issues, and community
              channels are available to everyone.
            </p>
          </div>

          <div class="card">
            <h3 class="text-lg font-semibold mb-2">Can you help with compliance requirements?</h3>
            <p class="text-foreground-muted">
              Absolutely. Our consulting packages include compliance reviews for SOC 2, GDPR,
              HIPAA, and other frameworks. We help you configure Barbacane's logging, security
              policies, and audit trails to meet your requirements.
            </p>
          </div>

          <div class="card">
            <h3 class="text-lg font-semibold mb-2">Do you offer on-premise deployment?</h3>
            <p class="text-foreground-muted">
              Barbacane is designed to run anywhere &mdash; on-prem, in your cloud, at the edge.
              We can help you design and implement the deployment architecture that fits your
              infrastructure and security requirements.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact CTA -->
  <section class="section">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-3xl font-bold mb-4">Not sure what you need?</h2>
        <p class="text-xl text-foreground-muted mb-8">
          Let's talk. We'll help you figure out the best path forward for your team.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a href="https://cal.com/nicolas-dreno-xijjpz/15min" target="_blank" rel="noopener" class="btn-primary text-lg px-8 py-4">
            <svg class="mr-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
            Book a 15-min call
          </a>
          <span class="text-foreground-muted">or</span>
          <button data-email="contact@barbacane.dev" class="copy-email-btn btn-secondary text-lg px-8 py-4">
            <svg class="mr-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
            </svg>
            <span class="btn-text">Copy email</span>
            <span class="btn-copied hidden">Copied!</span>
          </button>
        </div>
        <p class="text-sm text-foreground-muted mt-4">contact@barbacane.dev</p>
      </div>
    </div>
  </section>
</Layout>

<script>
  document.querySelectorAll('.copy-email-btn').forEach(btn => {
    btn.addEventListener('click', async () => {
      const email = btn.dataset.email || 'contact@barbacane.dev';
      const subject = btn.dataset.subject;
      const textToCopy = subject ? `${email} (Subject: ${subject})` : email;

      try {
        await navigator.clipboard.writeText(email);
        const textSpan = btn.querySelector('.btn-text');
        const copiedSpan = btn.querySelector('.btn-copied');

        if (textSpan && copiedSpan) {
          textSpan.classList.add('hidden');
          copiedSpan.classList.remove('hidden');

          setTimeout(() => {
            textSpan.classList.remove('hidden');
            copiedSpan.classList.add('hidden');
          }, 2000);
        }
      } catch (err) {
        // Fallback: open mailto if clipboard fails
        window.location.href = `mailto:${email}${subject ? '?subject=' + encodeURIComponent(subject) : ''}`;
      }
    });
  });
</script>
